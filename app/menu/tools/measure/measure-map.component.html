<button id="measure-button" (click)="closeMeasure()" [class.active]="measureActive">
	<span class="svg-measure">
	<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">
		<image *ngIf="!measureActive; else svgMeasureW" xlink:href="../../app/img/svg/measure.svg" x="0" y="0" height="15px" width="15px"/>
		<ng-template #svgMeasureW><image xlink:href="../../app/img/svg/measure-w.svg" x="0" y="0" height="15px" width="15px"/></ng-template>
	</svg>
	</span>
	Matuoti / Analizuoti
</button>

<div id="measure-container" class="measure-tool buffer-tool">
  <div id="measure-menu" class="measure" [class.measure-active]="measureActive" draggable="true">
    <span id="close-measure" (click)="closeMeasure()" [class.measure-active]="measureActive">
      <svg xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink" height="612px" id="Capa_1"  version="1.1" viewBox="0 0 612 612" width="612px" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px">
      <g>
        <g id="cross">
          <g>
            <polygon points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    "></polygon>
          </g>
        </g>
      </g>
      </svg>
    </span>
    <span id="drag-measure" [class.print-active]="measureActive">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
        <path style="line-height:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;block-progression:tb;isolation:auto;mix-blend-mode:normal" d="M 16 2.5859375 L 11.292969 7.2929688 L 12.707031 8.7070312 L 15 6.4140625 L 15 12 L 17 12 L 17 6.4140625 L 19.292969 8.7070312 L 20.707031 7.2929688 L 16 2.5859375 z M 7.2929688 11.292969 L 2.5859375 16 L 7.2929688 20.707031 L 8.7070312 19.292969 L 6.4140625 17 L 13 17 L 13 15 L 6.4140625 15 L 8.7070312 12.707031 L 7.2929688 11.292969 z M 24.707031 11.292969 L 23.292969 12.707031 L 25.585938 15 L 19 15 L 19 17 L 25.585938 17 L 23.292969 19.292969 L 24.707031 20.707031 L 29.414062 16 L 24.707031 11.292969 z M 15 19 L 15 25.585938 L 12.707031 23.292969 L 11.292969 24.707031 L 16 29.414062 L 20.707031 24.707031 L 19.292969 23.292969 L 17 25.585938 L 17 19 L 15 19 z"></path>
    </svg><span title="Keiskite padėti pelės pagalba">- keiskite padėti</span>
    </span>
    <div class="measure-content">
      <div class="form-title">Pasirinkite elementą</div>
      <div id="draw-point" #pointRef class="esri-widget-button esri-widget esri-interactive" title="Brėžti tašką" (click)="selectDrawEl($event, pointRef.id)" [ngClass]="{'active': activeTool === pointRef.id}">
        <span class="esri-icon-map-pin"></span>
      </div>
      <div id="draw-line" #lineRef class="esri-widget-button esri-widget esri-interactive" title="Brėžti liniją" (click)="selectDrawEl($event, lineRef.id)" [ngClass]="{'active': activeTool === lineRef.id}">
        <span class="esri-icon-polyline"></span>
      </div>
      <div id="draw-polygon" #polygonRef class="esri-widget-button esri-widget esri-interactive" title="Brėžti poligoną" (click)="selectDrawEl($event, polygonRef.id)" [ngClass]="{'active': activeTool === polygonRef.id}">
        <span class="esri-icon-polygon"></span>
      </div>

      <div class="feature-results">
        <div class="feature-count">
          <p class="feature-title feature-units">Matavimo rezultatas:</p>
          <span [ngStyle]="!calculatedUnits && {'display': 'none'}" class="feature-units   sp-width">{{this.calculatedUnits}}</span>
          <span [ngStyle]="calculatedUnits && {'display': 'none'}" class="feature-units">-</span>
        </div>
      </div>

      <hr />

      <form ngNativeValidate (ngSubmit)="onSubmitAnalyze(form)" #form="ngForm">
        <div class="input-group">
          <span class="input-group-addon">
              <input id="bufferBox" type="checkbox" #bufferCheckbox (change)="checkBoxChange()" aria-label="Checkbox for following text input">
            </span>
          <!-- <span class="input-group-addon">Brėžti buferį</span> -->
          <label for="bufferBox">Matuojant pridėti buferį</label>
        </div>
        <div class="form-group" *ngIf="checkboxChecked">
          <div class="form-title form-split-title">Buferio dydis</div>
          <div class="form-title form-split-title">Matavimo vienetai</div>
          <input [(ngModel)]="analyzeParams.bufferSize" id="buffersize" name="buffersize" required class="form-control form-check-inline buffer-size" type="number" #buffer="ngModel" pattern="^[+]?\d+([.]\d+)?$">
          <div class="form-check-inline">

            <div class="form-check form-check-inline" *ngFor="let unit of units">

              <label class="form-check-label">
                <input  class="form-check-input"
                  type="radio"
                  name="unit"
                  [(ngModel)]="analyzeParams.chosenUnit"
                  [value]="unit"
                >
                {{unit}}
              </label>
            </div>
          </div>
          <div [hidden]="buffer.valid || buffer.pristine" class="alert alert-danger buffer-alert">
            Rašykite sveikais skaičiais arba naudokite , simbolį
          </div>
          <div class="input-field col s12"><br />
            <div class="form-title">Perdengti su temos sluoksniu</div>
            <select required class="form-control" id="themeSelect" [(ngModel)]="analyzeParams.inputlayer" name="themeSelect" #themeSelect="ngModel">
              <!-- <option value="null" disabled>Pasirinkite temą</option> -->
              <option value="null">Pasirinkite temą</option>
              <option #theme *ngFor="let layer of themeLayers; index as i"  [ngValue]="i">{{layer.name}}</option>
            </select>
          </div>

          <div class="feature-results">
            <div class="feature-count">
              <p class="feature-title feature-units">Perdengtų rezultatų skaičius:</p>
              <span [ngStyle]="!calculateCount && {'display': 'none'}" class="feature-units">{{this.calculateCount}}</span>
              <span [ngStyle]="calculateCount && {'display': 'none'}" class="feature-units">-</span>
            </div>
          </div>
        </div>
        <div id="measure-button">
        </div>
      </form>

    </div>
  </div>
</div>
